import{b as T,f as D}from"./element-plus-BS6u3EDt.js";import{b as R}from"./vendor-CSA95d8J.js";import{_ as B,f as l}from"./index-UbVhXwtH.js";import{c as v,I as M,y as N,J as x,z as t,P as s,u as i,R as $,O as F}from"./vue-vendor-DMOLwvvm.js";const E={class:"flex items-center justify-between"},V={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},Y={class:"space-y-4"},I={class:"grid gap-3 md:grid-cols-2"},S={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-900"},H={class:"space-y-2 text-sm text-gray-700 dark:text-gray-300"},O={class:"flex items-center justify-between"},z={class:"font-medium"},J={class:"flex items-center justify-between"},P={class:"font-medium"},q={class:"flex items-center justify-between"},A={class:"font-medium"},G={class:"flex items-center justify-between"},K={class:"font-medium"},L={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-900"},Q={class:"space-y-2 text-sm text-gray-700 dark:text-gray-300"},U={class:"flex items-center justify-between"},W={class:"font-semibold text-blue-600 dark:text-blue-400"},X={class:"flex items-center justify-between"},Z={class:"font-semibold text-green-600 dark:text-green-400"},tt={class:"flex items-center justify-between"},et={class:"font-semibold text-purple-600 dark:text-purple-400"},st={class:"flex items-center justify-between"},at={class:"font-semibold text-orange-600 dark:text-orange-400"},ot={class:"flex items-center justify-between"},rt={class:"font-semibold text-gray-900 dark:text-gray-100"},dt={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900"},nt={class:"grid gap-3 sm:grid-cols-2"},lt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},it={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ct={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},yt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},gt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},xt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},mt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},ut={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ft={class:"mt-4 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-800 dark:bg-gray-800"},bt={class:"text-base font-bold text-yellow-600 dark:text-yellow-400"},pt={class:"flex justify-end"},kt={__name:"RecordDetailModal",props:{show:{type:Boolean,default:!1},record:{type:Object,default:()=>({})}},emits:["close"],setup(a,{emit:w}){const c=a,C=w,m=()=>C("close"),j=v(()=>{var o;return(o=c.record)!=null&&o.timestamp?R(c.record.timestamp).format("YYYY-MM-DD HH:mm:ss"):"Desconocido时间"}),n=v(()=>{var y,g;const o=((y=c.record)==null?void 0:y.realCostBreakdown)||((g=c.record)==null?void 0:g.costBreakdown)||{},e=r=>{const d=typeof r=="number"?r:0;return d>=1?`$${d.toFixed(2)}`:d>=.001?`$${d.toFixed(4)}`:`$${d.toFixed(6)}`};return{input:e(o.input),output:e(o.output),cacheCreate:e(o.cacheCreate),cacheRead:e(o.cacheRead),total:e(o.total)}});return(o,e)=>{const y=T,g=D;return N(),M(g,{"append-to-body":!0,class:"record-detail-modal","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":a.show,"show-close":!1,top:"10vh",width:"720px",onClose:m},{header:x(()=>{var r;return[t("div",E,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400"}," Detalles de la solicitud ",-1)),t("p",V,s(((r=a.record)==null?void 0:r.model)||"Modelo desconocido"),1)]),t("button",{"aria-label":"Cerrar",class:"rounded-full p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-gray-100",onClick:m},e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)]))])]}),footer:x(()=>[t("div",pt,[$(y,{type:"primary",onClick:m},{default:x(()=>e[19]||(e[19]=[F("Cerrar",-1)])),_:1,__:[19]})])]),default:x(()=>{var r,d,u,f,b,p,k,_,h;return[t("div",Y,[t("div",I,[t("div",S,[e[6]||(e[6]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"Información básica",-1)),t("ul",H,[t("li",O,[e[2]||(e[2]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Fecha",-1)),t("span",z,s(j.value),1)]),t("li",J,[e[3]||(e[3]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Modelo",-1)),t("span",P,s(((r=a.record)==null?void 0:r.model)||"DesconocidoModelo"),1)]),t("li",q,[e[4]||(e[4]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Cuenta",-1)),t("span",A,s(((d=a.record)==null?void 0:d.accountName)||"Cuenta desconocida"),1)]),t("li",G,[e[5]||(e[5]=t("span",{class:"text-gray-500 dark:text-gray-400"},"渠道",-1)),t("span",K,s(((u=a.record)==null?void 0:u.accountTypeName)||"Desconocido渠道"),1)])])]),t("div",L,[e[12]||(e[12]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"Token 使用",-1)),t("ul",Q,[t("li",U,[e[7]||(e[7]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Entrada Token",-1)),t("span",W,s(i(l)((f=a.record)==null?void 0:f.inputTokens)),1)]),t("li",X,[e[8]||(e[8]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Salida Token",-1)),t("span",Z,s(i(l)((b=a.record)==null?void 0:b.outputTokens)),1)]),t("li",tt,[e[9]||(e[9]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Caché creación",-1)),t("span",et,s(i(l)((p=a.record)==null?void 0:p.cacheCreateTokens)),1)]),t("li",st,[e[10]||(e[10]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Caché lectura",-1)),t("span",at,s(i(l)((k=a.record)==null?void 0:k.cacheReadTokens)),1)]),t("li",ot,[e[11]||(e[11]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Total",-1)),t("span",rt,s(i(l)((_=a.record)==null?void 0:_.totalTokens)),1)])])])]),t("div",dt,[e[18]||(e[18]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"CostoDetalles",-1)),t("div",nt,[t("div",lt,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"EntradaCosto",-1)),t("span",it,s(n.value.input),1)]),t("div",ct,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"SalidaCosto",-1)),t("span",yt,s(n.value.output),1)]),t("div",gt,[e[15]||(e[15]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Caché creación",-1)),t("span",xt,s(n.value.cacheCreate),1)]),t("div",mt,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Caché lectura",-1)),t("span",ut,s(n.value.cacheRead),1)])]),t("div",ft,[e[17]||(e[17]=t("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"totalCost",-1)),t("div",bt,s(((h=a.record)==null?void 0:h.costFormatted)||n.value.total),1)])])])]}),_:1},8,["model-value"])}}},Ct=B(kt,[["__scopeId","data-v-0371f020"]]);export{Ct as R};
