import{aU as k,r as p,_ as z,q as C,x as c,z as e,R as g,P as l,u as t,Y as L,L as b,K as x,aq as f,O as h,J as V,av as T,aV as M,y as m}from"./vue-vendor-DMOLwvvm.js";import{b as B,a as S,s as U}from"./index-UbVhXwtH.js";import{T as j}from"./ThemeToggle-DaWPUuX9.js";import"./vendor-CSA95d8J.js";import"./element-plus-BS6u3EDt.js";const q={class:"relative flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 dark:bg-gray-900 sm:px-6 lg:px-8"},N={class:"fixed right-4 top-4 z-10"},R={class:"w-full max-w-md space-y-8"},D={class:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"},A={class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"},E={class:"rounded-lg bg-white px-6 py-8 shadow dark:bg-gray-800 dark:shadow-xl"},H={class:"block text-sm font-medium text-gray-700 dark:text-gray-300",for:"username"},I={class:"mt-1"},J=["disabled","placeholder"],K={class:"block text-sm font-medium text-gray-700 dark:text-gray-300",for:"password"},O={class:"mt-1"},P=["disabled","placeholder"],Y={key:0,class:"rounded-md border border-red-200 bg-red-50 p-4 dark:border-red-800 dark:bg-red-900/20"},F={class:"flex"},G={class:"ml-3"},Q={class:"text-sm text-red-700 dark:text-red-400"},W=["disabled"],X={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3"},Z={class:"text-center"},ae={__name:"UserLoginView",setup($){const v=M(),{t:o}=k(),_=B(),y=S(),a=p(!1),n=p(""),r=z({username:"",password:""}),w=async()=>{var i,s;if(!r.username||!r.password){n.value=o("common.login.error_missing_fields");return}a.value=!0,n.value="";try{await _.login({username:r.username,password:r.password}),U(o("common.login.success"),"success"),v.push("/user-dashboard")}catch(d){console.error("Login error:",d),n.value=((s=(i=d.response)==null?void 0:i.data)==null?void 0:s.message)||d.message||"Login failed"}finally{a.value=!1}};return C(()=>{y.initTheme()}),(i,s)=>{const d=T("router-link");return m(),c("div",q,[e("div",N,[g(j,{mode:"dropdown"})]),e("div",R,[e("div",null,[s[2]||(s[2]=e("div",{class:"mx-auto flex h-12 w-auto items-center justify-center"},[e("svg",{class:"h-8 w-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})]),e("span",{class:"ml-2 text-xl font-bold text-gray-900 dark:text-white"},"Claude Relay")],-1)),e("h2",D,l(t(o)("common.login.user_sign_in")),1),e("p",A,l(t(o)("common.login.user_subtitle")),1)]),e("div",E,[e("form",{class:"space-y-6",onSubmit:L(w,["prevent"])},[e("div",null,[e("label",H,l(t(o)("common.login.username")),1),e("div",I,[x(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=u=>r.username=u),autocomplete:"username",class:"relative block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400 sm:text-sm",disabled:a.value,name:"username",placeholder:t(o)("common.login.enter_username"),required:"",type:"text"},null,8,J),[[f,r.username]])])]),e("div",null,[e("label",K,l(t(o)("common.login.password")),1),e("div",O,[x(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=u=>r.password=u),autocomplete:"current-password",class:"relative block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400 sm:text-sm",disabled:a.value,name:"password",placeholder:t(o)("common.login.enter_password"),required:"",type:"password"},null,8,P),[[f,r.password]])])]),n.value?(m(),c("div",Y,[e("div",F,[s[3]||(s[3]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"clip-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","fill-rule":"evenodd"})])],-1)),e("div",G,[e("p",Q,l(n.value),1)])])])):b("",!0),e("div",null,[e("button",{class:"group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-400 dark:focus:ring-offset-gray-800",disabled:a.value||!r.username||!r.password,type:"submit"},[a.value?(m(),c("span",X,s[4]||(s[4]=[e("svg",{class:"h-5 w-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})],-1)]))):b("",!0),h(" "+l(a.value?t(o)("common.login.signing_in"):t(o)("common.login.sign_in")),1)],8,W)]),e("div",Z,[g(d,{class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",to:"/admin-login"},{default:V(()=>[h(l(t(o)("common.login.admin_link")),1)]),_:1})])],32)])])])}}};export{ae as default};
