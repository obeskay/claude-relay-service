import{aU as h,c as _,r as f,q as y,x as o,z as t,R as w,L as m,Q as v,u as e,P as l,Y as k,K as c,aq as g,O as p,y as a}from"./vue-vendor-DMOLwvvm.js";import{u as S,a as L}from"./index-CRxSkjgZ.js";import{T}from"./ThemeToggle-CChwt--w.js";import"./vendor-CSA95d8J.js";import"./element-plus-BS6u3EDt.js";const V={class:"flex min-h-screen items-center justify-center p-4 sm:p-6"},I={class:"fixed right-4 top-4 z-50"},N={class:"glass-strong w-full max-w-md rounded-xl p-6 shadow-2xl sm:rounded-2xl sm:p-8 md:rounded-3xl md:p-10"},q={class:"mb-6 text-center sm:mb-8"},D={class:"mx-auto mb-4 flex h-16 w-16 items-center justify-center overflow-hidden rounded-xl border border-gray-300/30 bg-gradient-to-br from-blue-500/20 to-purple-500/20 backdrop-blur-sm sm:mb-6 sm:h-20 sm:w-20 sm:rounded-2xl"},E=["src"],j={key:1,class:"fas fa-cloud text-2xl text-gray-700 sm:text-3xl"},B={key:1,class:"h-10 w-10 animate-pulse rounded bg-gray-300/50 sm:h-12 sm:w-12"},M={key:0,class:"header-title mb-2 text-2xl font-bold text-white sm:text-3xl"},P={key:1,class:"mx-auto mb-2 h-8 w-48 animate-pulse rounded bg-gray-300/50 sm:h-9 sm:w-64"},U={class:"text-base text-gray-600 dark:text-gray-400 sm:text-lg"},z={class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3",for:"username"},F=["placeholder"],O={class:"mb-2 block text-sm font-semibold text-gray-900 dark:text-gray-100 sm:mb-3",for:"password"},A=["placeholder"],C=["disabled"],K={key:0,class:"fas fa-sign-in-alt mr-2"},Q={key:1,class:"loading-spinner mr-2"},R={key:0,class:"mt-4 rounded-lg border border-red-500/30 bg-red-500/20 p-3 text-center text-xs text-red-800 backdrop-blur-sm dark:text-red-400 sm:mt-6 sm:rounded-xl sm:p-4 sm:text-sm"},$={__name:"LoginView",setup(Y){const{t:r}=h(),s=S(),x=L(),u=_(()=>s.oemLoading),i=f({username:"",password:""});y(()=>{x.initTheme(),s.loadOemSettings()});const b=async()=>{await s.login(i.value)};return(G,n)=>(a(),o("div",V,[t("div",I,[w(T,{mode:"dropdown"})]),t("div",N,[t("div",q,[t("div",D,[u.value?(a(),o("div",B)):(a(),o(v,{key:0},[e(s).oemSettings.siteIconData||e(s).oemSettings.siteIcon?(a(),o("img",{key:0,alt:"Logo",class:"h-10 w-10 object-contain sm:h-12 sm:w-12",src:e(s).oemSettings.siteIconData||e(s).oemSettings.siteIcon,onError:n[0]||(n[0]=d=>d.target.style.display="none")},null,40,E)):(a(),o("i",j))],64))]),!u.value&&e(s).oemSettings.siteName?(a(),o("h1",M,l(e(s).oemSettings.siteName),1)):u.value?(a(),o("div",P)):m("",!0),t("p",U,l(e(r)("admin.login.subtitle")),1)]),t("form",{class:"space-y-4 sm:space-y-6",onSubmit:k(b,["prevent"])},[t("div",null,[t("label",z,l(e(r)("admin.login.username")),1),c(t("input",{id:"username","onUpdate:modelValue":n[1]||(n[1]=d=>i.value.username=d),autocomplete:"username",class:"form-input w-full",name:"username",placeholder:e(r)("admin.login.usernamePlaceholder"),required:"",type:"text"},null,8,F),[[g,i.value.username]])]),t("div",null,[t("label",O,l(e(r)("admin.login.password")),1),c(t("input",{id:"password","onUpdate:modelValue":n[2]||(n[2]=d=>i.value.password=d),autocomplete:"current-password",class:"form-input w-full",name:"password",placeholder:e(r)("admin.login.passwordPlaceholder"),required:"",type:"password"},null,8,A),[[g,i.value.password]])]),t("button",{class:"btn btn-primary w-full px-4 py-3 text-base font-semibold sm:px-6 sm:py-4 sm:text-lg",disabled:e(s).loginLoading,type:"submit"},[e(s).loginLoading?m("",!0):(a(),o("i",K)),e(s).loginLoading?(a(),o("div",Q)):m("",!0),p(" "+l(e(s).loginLoading?e(r)("admin.login.loggingIn"):e(r)("admin.login.submit")),1)],8,C)],32),e(s).loginError?(a(),o("div",R,[n[3]||(n[3]=t("i",{class:"fas fa-exclamation-triangle mr-2"},null,-1)),p(l(e(s).loginError),1)])):m("",!0)])]))}};export{$ as default};
